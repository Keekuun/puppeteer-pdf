<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>结算单 - {{orderId}}</title>
  <style>
    body { font-family: "Helvetica Neue", "Hiragino Sans GB", "WenQuanYi Micro Hei", "Microsoft YaHei", sans-serif; color: #333; }
    .invoice-box { max-width: 800px; margin: auto; padding: 30px; border: 1px solid #eee; box-shadow: 0 0 10px rgba(0, 0, 0, 0.15); font-size: 16px; line-height: 24px; }
    .header { text-align: center; margin-bottom: 20px; }
    .header h1 { margin: 0; }
    .item-table { width: 100%; border-collapse: collapse; text-align: left; }
    .item-table th, .item-table td { border: 1px solid #ddd; padding: 8px; }
    .item-table th { background-color: #f2f2f2; font-weight: bold; }
    .total { text-align: right; margin-top: 20px; font-size: 1.2em; font-weight: bold; }
    /* 这是控制分页的关键，避免元素在分页时被切断 */
    tr, td, th, h1, p { page-break-inside: avoid; }
  </style>
</head>
<body>
<div class="invoice-box">
  <div class="header">
    <h1>结算单</h1>
  </div>
  <p><strong>订单号:</strong> {{orderId}}</p>
  <p><strong>客户名称:</strong> {{customer.name}}</p>
  <p><strong>出单日期:</strong> {{issueDate}}</p>
  <hr>
  <table class="item-table">
    <thead>
    <tr>
      <th>项目</th>
      <th>数量</th>
      <th>单价</th>
      <th>总价</th>
    </tr>
    </thead>
    <tbody>
    {{#each items}}
      <tr>
        <td>{{this.name}}</td>
        <td>{{this.quantity}}</td>
        <td>{{this.price}}</td>
        <td>{{this.total}}</td>
      </tr>
    {{/each}}
    </tbody>
  </table>
  <div class="total">
    <span>总计: {{totalAmount}}</span>
  </div>
</div>
</body>
</html>
